{"version":3,"file":"suid.min.js","sources":["../src/suid.js"],"names":["getOptions","options","script","document","querySelector","log","console","error","url","getAttribute","attr","JSON","parse","split","join","currentBlock","currentId","PREFIX","POOL","DETECT","ALPHABET","REPLACEMENT_SYMBOLS","LEGAL_CHARS","localStorageSupported","ls","setItem","removeItem","e","localStorage","window","settings","min","max","Suid","value","undefined","next","fromString","this","Number","call","prototype","Object","create","toString","compress","toBase32","toJSON","valueOf","result","tmp","i","idx","charAt","str","fromBase32","decompress","length","indexOf","fromJSON","json","substr","looksValid","len","looksValidJSON","revive","key","replacement","replace","RegExp","pool","Pool","get","Server","fetch","Error","splice","set","from","getItem","values","to","results","s","strings","push","obj","handleSuccess","text","retries","handleError","status","request","retry","started","after","retryAfter","getResponseHeader","parseInt","isNaN","setTimeout","ajax","blocks","data","success","sync","params","xhr","XMLHttpRequest","query","hasOwnProperty","encodeURIComponent","open","addEventListener","readyState","responseText","send","Date","getTime","now"],"mappings":"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"}