{"version":3,"file":"suid.min.js","sources":["../src/suid.js"],"names":["getOptions","options","script","document","querySelector","log","console","error","url","getAttribute","attr","JSON","parse","split","join","currentBlock","currentId","PREFIX","POOL","DETECT","ALPHABET","REPLACEMENT_SYMBOLS","LEGAL_CHARS","localStorageSupported","ls","setItem","removeItem","e","localStorage","window","settings","min","max","Suid","value","undefined","next","fromString","this","Number","call","prototype","Object","create","toString","compress","toBase32","toJSON","valueOf","result","tmp","i","idx","charAt","str","fromBase32","decompress","length","indexOf","fromJSON","json","substr","looksValid","len","looksValidJSON","revive","key","replacement","replace","RegExp","Server","fetch","pool","Pool","get","Error","splice","set","from","getItem","values","to","results","s","strings","push","obj","handleSuccess","text","retries","started","handleError","status","request","retry","after","retryAfter","getResponseHeader","parseInt","isNaN","setTimeout","ajax","blocks","data","success","sync","params","xhr","XMLHttpRequest","query","hasOwnProperty","encodeURIComponent","open","addEventListener","readyState","responseText","send","Date","getTime","now"],"mappings":"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"}